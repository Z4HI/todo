(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))n(c);new MutationObserver(c=>{for(const a of c)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function o(c){const a={};return c.integrity&&(a.integrity=c.integrity),c.referrerPolicy&&(a.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?a.credentials="include":c.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(c){if(c.ep)return;c.ep=!0;const a=o(c);fetch(c.href,a)}})();const r=localStorage.getItem("items")?JSON.parse(localStorage.getItem("items")):[],l=localStorage.getItem("categories")?JSON.parse(localStorage.getItem("categories")):[],C=document.querySelector(".addBtn"),u=document.querySelector(".rightDisplay"),q=document.querySelector("#submitBtn"),b=document.querySelector("#category"),g=document.querySelector("#task"),p=document.querySelector("#date"),L=document.querySelector(".displayDate"),h=document.querySelector(".description"),v=document.querySelectorAll('input[name = "priority"]'),k=new Date,E=document.querySelector("#closeAddTask"),A=document.querySelector(".burger"),B=document.querySelector(".navAddCategory"),D=document.querySelector("#closeAddCategory"),f=document.querySelector(".addCategory"),I=document.querySelector("#categorySubmitBtn"),N=document.querySelector("#inputCategory"),m=document.querySelector(".categories"),y=document.querySelector("#category");window.onload=()=>{X(),r&&i(),l&&d()};const O=(e,t,o,n,c,a)=>{let s={category:e,taskname:t,date:o,priority:n,description:c,completed:a};r.push(s),localStorage.setItem("items",JSON.stringify(r)),i()},i=()=>{u.innerHTML="";for(let e=0;e<r.length;e++){let t=document.createElement("div");t.classList.add("taskCard"),t.innerHTML=`
    <div class="uneditCard">
        <div class="info">
            <div id = "cardCategory"> Category : ${r[e].category}</div>
            <div id = "cardName"> Name : ${r[e].taskname}</div>
            <div id = "cardDate"> Due Date : ${r[e].date}</div>
            <div id = "cardPriority"> Priority: ${r[e].priority}</div>
            <div id = "cardDescription"> Description : ${r[e].description}</div>
        </div>
        <div class="buttons">
            <button class ="deleteCard"><i class="fa-solid fa-trash-can"></i></button>
            <button class = "editBtn"><i class="fa-solid fa-pen-to-square"></i></button>
            <button class = "completed"><i class="fa-regular fa-circle-check"></i></button>
        </div>
    </div>
    <div class ="editdescription">
    <form action="">
          <label for="edittask">Edit Task Name</label>
          <input type="text" name="edittask" id="edittask" placeholder="Edit Task Name">
          <label for="date">Edit Date</label>
          <input type="date" name="date" id="editdate"><br>Edit description
          <textarea id="edittextdescription" name="description" cols="10" rows="5"></textarea>
          <div class="editbuttons">
              <button id = "saveBtn">Save</button>
              <button id = "cancelBtn">Cancel</button>
          </div>
        </form>
    </div>
    `,u.appendChild(t)}P(),H(),F(),w(),T(),x(),S()},T=()=>{document.querySelectorAll("#cancelBtn").forEach((t,o)=>{t.addEventListener("click",n=>{n.preventDefault(),$(o)})})},$=e=>{document.querySelectorAll(".editdescription")[e].classList.toggle("showEdit")},S=()=>{const e=document.querySelectorAll(".taskCard"),t=document.querySelectorAll(".completed");for(let o=0;o<e.length;o++)r[o].completed==!0?t[o].classList.add("green"):t[o].classList.remove("green")},x=()=>{document.querySelectorAll(".completed").forEach((t,o)=>{t.addEventListener("click",()=>{r[o].completed==!1?r[o].completed=!0:r[o].completed=!1,S(),localStorage.setItem("items",JSON.stringify(r))})})},F=()=>{let e=document.querySelectorAll(".editBtn");const t=document.querySelectorAll(".editdescription");e.forEach((o,n)=>{o.addEventListener("click",()=>{t[n].classList.toggle("showEdit"),J(n)})})},J=e=>{document.querySelectorAll("#edittask")[e].value=r[e].taskname,document.querySelectorAll("#editdate")[e].value=r[e].date,document.querySelectorAll("#edittextdescription")[e].value=r[e].description},P=()=>{const e=document.querySelectorAll(".taskCard");for(let t=0;t<e.length;t++)r[t].priority=="high"&&e[t].classList.add("high"),r[t].priority=="medium"&&(e[t].style.border="solid blue 6px")},w=()=>{document.querySelectorAll("#saveBtn").forEach((t,o)=>{t.addEventListener("click",n=>{n.preventDefault(),M(o)})})},M=e=>{r[e].taskname=document.querySelectorAll("#edittask")[e].value,r[e].date=document.querySelectorAll("#editdate")[e].value,r[e].description=document.querySelectorAll("#edittextdescription")[e].value,localStorage.setItem("items",JSON.stringify(r)),i()},H=()=>{document.querySelectorAll(".deleteCard").forEach((t,o)=>{t.addEventListener("click",()=>{j(o)})})},j=e=>{r.splice(e,1),localStorage.setItem("items",JSON.stringify(r)),i()},K=e=>{let t="";for(const o of e)o.checked&&(t=o.value);return t},V=()=>{g.value="",p.value="",v.forEach(function(e){e.checked=!1})},X=()=>{let e=k.toString().split(" ");L.innerHTML=`${e[0]}  ${e[1]}  ${e[2]}`},z=e=>{let t={category:e};l.push(t),localStorage.setItem("categories",JSON.stringify(l)),d()},d=e=>{m.innerHTML="",y.innerHTML="";for(let t=0;t<l.length;t++){let o=document.createElement("div");o.classList.add("navCategory"),o.innerHTML=`
    ${l[t].category}
    <button id ="removeCategoryBtn">X</button>
    `;let n=document.createElement("option");n.classList.add("sv"),n.value=`${l[t].category}`,n.text=`${l[t].category}`,y.appendChild(n),m.appendChild(o)}G()},G=()=>{document.querySelectorAll("#removeCategoryBtn").forEach((t,o)=>{t.addEventListener("click",()=>{Q(o),localStorage.setItem("categories",JSON.stringify(l))})})},Q=e=>{l.splice(e,1),d()};C.addEventListener("click",()=>{document.querySelector(".addTask").classList.toggle("visible")});q.addEventListener("click",e=>{e.preventDefault(),document.querySelector(".addTask").classList.toggle("visible");let t=b.value,o=g.value,n=p.value,c=K(v),a=h.value,s=!1;console.log(t),O(t,o,n,c,a,s),V()});I.addEventListener("click",e=>{e.preventDefault();let t=N.value;z(t)});E.addEventListener("click",e=>{e.preventDefault(),document.querySelector(".addTask").classList.toggle("visible")});A.addEventListener("click",()=>{document.querySelector(".leftNav").classList.toggle("scale")});B.addEventListener("click",()=>{f.classList.toggle("visible")});D.addEventListener("click",()=>{f.classList.toggle("visible")});
