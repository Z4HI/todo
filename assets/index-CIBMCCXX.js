(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();const c=localStorage.getItem("items")?JSON.parse(localStorage.getItem("items")):[],a=localStorage.getItem("categories")?JSON.parse(localStorage.getItem("categories")):[],k=document.querySelector(".addBtn"),d=document.querySelector(".rightDisplay"),q=document.querySelector("#submitBtn"),C=document.querySelector("#category"),g=document.querySelector("#task"),p=document.querySelector("#date"),b=document.querySelector(".displayDate"),A=document.querySelector(".description"),v=document.querySelectorAll('input[name = "priority"]'),f=new Date,E=document.querySelector("#closeAddTask"),B=document.querySelector(".burger"),D=document.querySelector(".navAddCategory"),T=document.querySelector("#closeAddCategory"),S=document.querySelector(".addCategory"),O=document.querySelector("#categorySubmitBtn"),I=document.querySelector("#inputCategory"),m=document.querySelector(".categories"),y=document.querySelector("#category"),N=document.querySelector("#todayBtn"),$=document.querySelector(".homeBtn"),M=document.querySelector("#todayTasksAmount");document.querySelector("#weekTasksAmount");window.onload=()=>{R(),c&&i(c),a&&u()};const J=(e,t,o,n,r,s)=>{let l={category:e,taskname:t,date:o,priority:n,description:r,completed:s};c.push(l),localStorage.setItem("items",JSON.stringify(c)),i(c)},i=e=>{if(e.length<1)return d.innerHTML="<h1> NOTHING TO DISPLAY </h1>";d.innerHTML="";for(let t=0;t<e.length;t++){let o=document.createElement("div");o.classList.add("taskCard"),o.innerHTML=`
    <div class="uneditCard">
        <div class="info">
            <div id = "cardCategory"> Category : ${e[t].category}</div>
            <div id = "cardName"> Name : ${e[t].taskname}</div>
            <div id = "cardDate"> Due Date : ${e[t].date}</div>
            <div id = "cardPriority"> Priority: ${e[t].priority}</div>
            <div id = "cardDescription"> Description : ${e[t].description}</div>
        </div>
        <div class="buttons">
            <button class ="deleteCard"><i class="fa-solid fa-trash-can"></i></button>
            <button class = "editBtn"><i class="fa-solid fa-pen-to-square"></i></button>
            <button class = "completed"><i class="fa-regular fa-circle-check"></i></button>
        </div>
    </div>
    <div class ="editdescription">
        <form action="">
          <label for="edittask">Edit Task Name</label>
          <input type="text" name="edittask" id="edittask" placeholder="Edit Task Name">
          <label for="date">Edit Date</label>
          <input type="date" name="date" id="editdate"><br>Edit description
          <textarea id="edittextdescription" name="description" cols="10" rows="5"></textarea>
          <div class="editbuttons">
              <button id = "saveBtn">Save</button>
              <button id = "cancelBtn">Cancel</button>
          </div>
        </form>
    </div>
    `,d.appendChild(o)}G(),X(),w(),K(),F(),P(),h(),x()},x=()=>{let e=L().length;M.innerHTML=e},F=()=>{document.querySelectorAll("#cancelBtn").forEach((t,o)=>{t.addEventListener("click",n=>{n.preventDefault(),H(o)})})},H=e=>{document.querySelectorAll(".editdescription")[e].classList.toggle("showEdit")},h=()=>{const e=document.querySelectorAll(".taskCard"),t=document.querySelectorAll(".completed");for(let o=0;o<c.length;o++)c[o].completed==!0?(t[o].classList.add("green"),e[o].classList.add("green")):(t[o].classList.remove("green"),e[o].classList.remove("green"))},P=()=>{document.querySelectorAll(".completed").forEach((t,o)=>{t.addEventListener("click",()=>{c[o].completed==!1?c[o].completed=!0:c[o].completed=!1,h(),localStorage.setItem("items",JSON.stringify(c))})})},w=()=>{let e=document.querySelectorAll(".editBtn");const t=document.querySelectorAll(".editdescription");e.forEach((o,n)=>{o.addEventListener("click",()=>{t[n].classList.toggle("showEdit"),j(n)})})},j=e=>{document.querySelectorAll("#edittask")[e].value=c[e].taskname,document.querySelectorAll("#editdate")[e].value=c[e].date,document.querySelectorAll("#edittextdescription")[e].value=c[e].description},G=()=>{const e=document.querySelectorAll(".taskCard");for(let t=0;t<e.length;t++)c[t].priority=="high"&&e[t].classList.add("high"),c[t].priority=="medium"&&e[t].classList.add("medium")},K=()=>{document.querySelectorAll("#saveBtn").forEach((t,o)=>{t.addEventListener("click",n=>{n.preventDefault(),V(o)})})},V=e=>{c[e].taskname=document.querySelectorAll("#edittask")[e].value,c[e].date=document.querySelectorAll("#editdate")[e].value,c[e].description=document.querySelectorAll("#edittextdescription")[e].value,localStorage.setItem("items",JSON.stringify(c)),i(c)},X=()=>{document.querySelectorAll(".deleteCard").forEach((t,o)=>{t.addEventListener("click",()=>{Y(o)})})},Y=e=>{c.splice(e,1),localStorage.setItem("items",JSON.stringify(c)),i(c)},z=e=>{let t="";for(const o of e)o.checked&&(t=o.value);return t},Q=()=>{g.value="",p.value="",v.forEach(function(e){e.checked=!1})},R=()=>{let e=f.toString().split(" ");b.innerHTML=`${e[0]}  ${e[1]}  ${e[2]}`},U=e=>e<10?"0"+e:e,W=e=>{let o=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"].indexOf(e)+1;return U(o)},Z=()=>{let e=f.toString().split(" "),t=`${e[1]}`,o=W(t);return`${e[3]}-${o}-${e[2]}`},L=()=>{let e=[];for(let t=0;t<c.length;t++)c[t].date===Z()&&e.push(c[t]);return console.log(e),e},_=e=>{let t={category:e};a.push(t),localStorage.setItem("categories",JSON.stringify(a)),u()},u=e=>{m.innerHTML="",y.innerHTML="";for(let t=0;t<a.length;t++){let o=document.createElement("div");o.classList.add("navCategory"),o.innerHTML=`
    ${a[t].category} 
    <button id ="removeCategoryBtn">X</button>
    `;let n=document.createElement("option");n.classList.add("sv"),n.value=`${a[t].category}`,n.text=`${a[t].category}`,y.appendChild(n),m.appendChild(o)}ee()},ee=()=>{document.querySelectorAll("#removeCategoryBtn").forEach((t,o)=>{t.addEventListener("click",()=>{te(o),localStorage.setItem("categories",JSON.stringify(a))})})},te=e=>{a.splice(e,1),u()};k.addEventListener("click",()=>{document.querySelector(".addTask").classList.toggle("visible")});q.addEventListener("click",e=>{e.preventDefault(),document.querySelector(".addTask").classList.toggle("visible");let t=C.value,o=g.value,n=p.value,r=z(v),s=A.value;J(t,o,n,r,s,!1),Q()});O.addEventListener("click",e=>{e.preventDefault();let t=I.value;_(t)});E.addEventListener("click",e=>{e.preventDefault(),document.querySelector(".addTask").classList.toggle("visible")});B.addEventListener("click",()=>{document.querySelector(".leftNav").classList.toggle("scale")});D.addEventListener("click",()=>{S.classList.toggle("visible")});T.addEventListener("click",()=>{S.classList.toggle("visible")});N.addEventListener("click",()=>{i(L())});$.addEventListener("click",()=>{i(c)});
