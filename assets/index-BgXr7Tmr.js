(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(n){if(n.ep)return;n.ep=!0;const c=o(n);fetch(n.href,c)}})();const r=localStorage.getItem("items")?JSON.parse(localStorage.getItem("items")):[],i=localStorage.getItem("categories")?JSON.parse(localStorage.getItem("categories")):[],k=document.querySelector(".addBtn"),d=document.querySelector(".rightDisplay"),L=document.querySelector("#submitBtn"),b=document.querySelector("#category"),v=document.querySelector("#task"),f=document.querySelector("#date"),A=document.querySelector(".displayDate"),E=document.querySelector(".description"),S=document.querySelectorAll('input[name = "priority"]'),h=new Date,D=document.querySelector("#closeAddTask"),B=document.querySelector(".burger"),T=document.querySelector(".navAddCategory");document.querySelector("#closeAddCategory");const u=document.querySelector(".addCategory"),I=document.querySelector("#categorySubmitBtn"),O=document.querySelector("#inputCategory"),g=document.querySelector(".categories"),p=document.querySelector("#category"),N=document.querySelector("#todayBtn"),$=document.querySelector(".homeBtn"),M=document.querySelector("#todayTasksAmount");document.querySelector("#weekTasksAmount");const P=document.querySelector("#inputColor");document.querySelectorAll('input[name = "editPriority"]');window.onload=()=>{Q(),r&&s(r),i&&y()};const w=(e,t,o,l,n,c)=>{let a={category:e,taskname:t,date:o,priority:l,description:n,completed:c};r.push(a),localStorage.setItem("items",JSON.stringify(r)),s(r)},s=e=>{if(e.length<1)return d.innerHTML="<h1> NOTHING TO DISPLAY </h1>";d.innerHTML="";for(let t=0;t<e.length;t++){let o=document.createElement("div");o.classList.add("taskCard"),o.innerHTML=`
    <div class="uneditCard">
        <div class="info">
            <div id = "cardCategory"> Category : ${e[t].category}</div>
            <div id = "cardName"> Name : ${e[t].taskname}</div>
            <div id = "cardDate"> Due Date : ${e[t].date}</div>
            <div id = "cardPriority"> Priority: ${e[t].priority}</div>
            <div id = "cardDescription"> Description : ${e[t].description}</div>
        </div>
        <div class="buttons">
            <button class ="deleteCard"><i class="fa-solid fa-trash-can"></i></button>
            <button class = "editBtn"><i class="fa-solid fa-pen-to-square"></i></button>
            <button class = "completed"><i class="fa-regular fa-circle-check"></i></button>
        </div>
    </div>
    <div class ="editdescription">
        <form action="" id = "editCardDiv">
          <label for="edittask">Edit Task Name</label>
          <input type="text" name="edittask" id="edittask" placeholder="Edit Task Name">
          <label for="date">Edit Date</label>
          <div id="editradioInput">Edit Priority
            <input name="editPriority" type="radio" id="low" value="low">
            <label for="low">LOW</label>
            <input name="editPriority" type="radio" id="medium" value="medium">
            <label for="medium">MEDIUM</label>
            <input name="editPriority" type="radio" id="high" value="high">
            <label for="high">HIGH</label><br>
        </div>
          <input type="date" name="date" id="editdate"><br>Edit description
          <textarea id="edittextdescription" name="description" cols="10" rows="5"></textarea>
          <div class="editbuttons">
              <button id = "saveBtn">Save</button>
              <button id = "cancelBtn">Cancel</button>
          </div>
        </form>
    </div>
    `,d.appendChild(o)}m(),G(),W(),j(),K(),J(),F(),C(),H()},m=()=>{let e=document.querySelectorAll(".taskCard");for(let t=0;t<r.length;t++)for(let o=0;o<i.length;o++)r[t].category==i[o].category&&(e[t].style.backgroundColor=`${i[o].color}`)},H=()=>{let e=q().length;M.innerHTML=e},J=()=>{document.querySelectorAll("#cancelBtn").forEach((t,o)=>{t.addEventListener("click",l=>{l.preventDefault(),x(o)})})},x=e=>{document.querySelectorAll(".editdescription")[e].classList.toggle("showEdit")},C=()=>{const e=document.querySelectorAll(".taskCard"),t=document.querySelectorAll(".completed");for(let o=0;o<r.length;o++)r[o].completed==!0?(t[o].classList.add("green"),e[o].classList.add("green")):(t[o].classList.remove("green"),e[o].classList.remove("green"))},F=()=>{document.querySelectorAll(".completed").forEach((t,o)=>{t.addEventListener("click",()=>{r[o].completed==!1?r[o].completed=!0:r[o].completed=!1,C(),localStorage.setItem("items",JSON.stringify(r))})})},j=()=>{let e=document.querySelectorAll(".editBtn");const t=document.querySelectorAll(".editdescription");e.forEach((o,l)=>{o.addEventListener("click",()=>{t[l].classList.toggle("showEdit"),V(l)})})},V=e=>{document.querySelectorAll("#edittask")[e].value=r[e].taskname,document.querySelectorAll("#editdate")[e].value=r[e].date,document.querySelectorAll("#edittextdescription")[e].value=r[e].description,document.querySelectorAll('input[name = "editPriority"]')[e].value=r[e].priority},G=()=>{const e=document.querySelectorAll(".taskCard");for(let t=0;t<e.length;t++)r[t].priority=="high"&&e[t].classList.add("high"),r[t].priority=="medium"&&e[t].classList.add("medium")},K=()=>{document.querySelectorAll("#saveBtn").forEach((t,o)=>{t.addEventListener("click",l=>{l.preventDefault(),U(o)})})},U=e=>{r[e].taskname=document.querySelectorAll("#edittask")[e].value,r[e].date=document.querySelectorAll("#editdate")[e].value,r[e].description=document.querySelectorAll("#edittextdescription")[e].value,r[e].priority=document.querySelectorAll('input[name = "editPriority"]').value,localStorage.setItem("items",JSON.stringify(r)),s(r)},W=()=>{document.querySelectorAll(".deleteCard").forEach((t,o)=>{t.addEventListener("click",()=>{X(o)})})},X=e=>{r.splice(e,1),localStorage.setItem("items",JSON.stringify(r)),s(r)},Y=e=>{let t="";for(const o of e)o.checked&&(t=o.value);return t},z=()=>{v.value="",f.value="",S.forEach(function(e){e.checked=!1})},Q=()=>{let e=h.toString().split(" ");A.innerHTML=`${e[0]}  ${e[1]}  ${e[2]}`},R=e=>e<10?"0"+e:e,Z=e=>{let o=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"].indexOf(e)+1;return R(o)},_=()=>{let e=h.toString().split(" "),t=`${e[1]}`,o=Z(t);return`${e[3]}-${o}-${e[2]}`},q=()=>{let e=[];for(let t=0;t<r.length;t++)r[t].date===_()&&e.push(r[t]);return e},ee=(e,t)=>{let o={category:e,color:t};i.push(o),localStorage.setItem("categories",JSON.stringify(i)),y()},y=()=>{g.innerHTML="",p.innerHTML="";for(let e=0;e<i.length;e++){let t=document.createElement("div");t.classList.add("navCategory"),t.style.backgroundColor=`${i[e].color}`,t.innerHTML=`
    ${i[e].category} 
    <button id ="removeCategoryBtn">X</button>
    `;let o=document.createElement("option");o.classList.add("sv"),o.value=`${i[e].category}`,o.text=`${i[e].category}`,p.appendChild(o),g.appendChild(t),r[e]}te()},te=()=>{document.querySelectorAll("#removeCategoryBtn").forEach((t,o)=>{t.addEventListener("click",()=>{oe(o),localStorage.setItem("categories",JSON.stringify(i))})})},oe=e=>{i.splice(e,1),y()};k.addEventListener("click",()=>{document.querySelector(".addTask").classList.toggle("visible"),u.classList.remove("visible")});L.addEventListener("click",e=>{e.preventDefault(),document.querySelector(".addTask").classList.toggle("visible");let t=b.value,o=v.value,l=f.value,n=Y(S),c=E.value;w(t,o,l,n,c,!1),z()});I.addEventListener("click",e=>{e.preventDefault(),u.classList.toggle("visible");let t=O.value,o=P.value;ee(t,o),m()});D.addEventListener("click",e=>{e.preventDefault(),document.querySelector(".addTask").classList.toggle("visible")});B.addEventListener("click",()=>{document.querySelector(".nav").classList.toggle("navVisible"),document.querySelector(".navContainer").classList.toggle("navVisible")});T.addEventListener("click",()=>{u.classList.toggle("visible"),document.querySelector(".addTask").classList.remove("visible"),m()});N.addEventListener("click",()=>{s(q())});$.addEventListener("click",()=>{s(r)});
